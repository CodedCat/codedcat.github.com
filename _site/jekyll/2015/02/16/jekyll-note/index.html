
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jekyll添加多说评论</title>
    
    <meta name="author" content="CodedCat">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/css/1.4.0/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
	<link href="/assets/themes/twitter/css/pygments.css" rel="stylesheet">
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="/">码猫</a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">存档</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">分类</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">页面</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">标签</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>jekyll添加多说评论 <small></small></h1>
</div>

<div class="row">
  <div class="span10">
    
<p>用<a href="http://jekyllbootstrap.com">jekyll-bootstrap</a>搭建的博客默认的评论系统是disqus，而多说更适合国内用户，把disqus换成多说可以先把_config.yml中comments那段设置注释掉，接着修改一个文件。</p>

<p>进入到<code>_includes/themes/YOUR_THEME_NAME</code>修改post.html,将{<em>% include JB/comments %</em>}替换为如下代码</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- 多说评论框 start --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ds-thread"</span> <span class="na">data-thread-key=</span><span class="s">"页面ID"</span> <span class="na">data-title=</span><span class="s">"文章标题"</span> <span class="na">data-url=</span><span class="s">"文章网址"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="c">&lt;!-- 多说评论框 end --&gt;</span>
<span class="c">&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">var</span> <span class="nx">duoshuoQuery</span> <span class="o">=</span> <span class="p">{</span><span class="na">short_name</span><span class="p">:</span><span class="s2">"codedcat"</span><span class="p">};</span>
	<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ds</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
		<span class="nx">ds</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span><span class="nx">ds</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="nx">ds</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">==</span> <span class="s1">'https:'</span> <span class="p">?</span> <span class="s1">'https:'</span> <span class="p">:</span> 
		<span class="s1">'http:'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'//static.duoshuo.com/embed.js'</span><span class="p">;</span>
		<span class="nx">ds</span><span class="p">.</span><span class="nx">charset</span> <span class="o">=</span> <span class="s1">'UTF-8'</span><span class="p">;</span>
		<span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'head'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> 
		 <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'body'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ds</span><span class="p">);</span>
	<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="c">&lt;!-- 多说公共JS代码 end --&gt;</span></code></pre></div>

<h5 id="section">然后作一下更改:</h5>

<ol>
  <li>页面ID    =&gt; <strong>{</strong><strong>{ page.id }</strong><strong>}</strong></li>
  <li>文章标题  =&gt; <strong>{</strong><strong>{ page.title }</strong><strong>}</strong></li>
  <li>文章网址  =&gt; <strong>{</strong><strong>{ site.production_url }</strong><strong>}</strong><strong>{</strong><strong>{ page.url }</strong><strong>}</strong></li>
</ol>


    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/android/2014/11/10/android-widget-basic" title="android基础控件整理">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>
    <hr>
    
	<div id="comments" class="ds-thread" data-title="jekyll添加多说评论" data-url="http://username.github.io/jekyll/2015/02/16/jekyll-note" data-thread-key="/jekyll/2015/02/16/jekyll-note"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"CodedCat"};
(function() {
var ds = document.createElement('script');
ds.type = 'text/javascript';ds.async = true;
ds.src = 'http://static.duoshuo.com/embed.js';
ds.charset = 'UTF-8';
(document.getElementsByTagName('head')[0]
|| document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
	
  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>16 February 2015</span></div>

  
    <h4>Tags</h4>
    <ul class="tag_box">
    
    


  
     
    	<li><a href="/tags.html#jekyll-ref">jekyll <span>1</span></a></li>
    
  



    </ul>
    
  </div>
</div>



      </div>

      <footer>
        <p>&copy; CodedCat 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> 

    

  </body>
</html>

